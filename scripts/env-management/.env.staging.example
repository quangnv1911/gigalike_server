# ========================================
# GIGALIKE MICROSERVICES ENVIRONMENT VARIABLES
# ========================================
# Copy this file to .env and customize for your setup
# Config-server will read these variables and provide them to all services

# =================
# ENVIRONMENT SETTINGS  
# =================
SPRING_PROFILES_ACTIVE=staging
LOG_LEVEL=INFO
TIMEZONE=Asia/Ho_Chi_Minh

# =================
# CONFIG SERVER
# =================
GIT_REPO_CONFIG=https://github.com/quangnv1911/gigalike_server.git
CONFIG_PASSWORD=configpass
CONFIG_NAME=config
# =================
# SERVICE DISCOVERY (EUREKA)
# =================
EUREKA_NAME=eureka
EUREKA_PASSWORD=password
EUREKA_CLIENT_SERVICE_URL_DEFAULTZONE=http://eureka:password@localhost:8761/eureka/
EUREKA_PREFER_IP_ADDRESS=false
EUREKA_LEASE_RENEWAL_INTERVAL=10
EUREKA_LEASE_EXPIRATION_DURATION=30
EUREKA_HOSTNAME=eureka-server
EUREKA_ENABLE_SELF_PRESERVATION=false
EUREKA_EVICTION_INTERVAL=10000
EUREKA_CLIENT_RENEWAL_INTERVAL=30
EUREKA_RENEWAL_THRESHOLD=0.85
EUREKA_REGISTER_CONFIG_SERVER=true
EUREKA_FETCH_REGISTRY_CONFIG_SERVER=false


# =================
# DATABASE CONFIGURATION
# =================
# MySQL (for auth, product, order services)
SPRING_DATASOURCE_USERNAME=root
SPRING_DATASOURCE_PASSWORD=dinhthai
SPRING_DATASOURCE_URL_AUTH=jdbc:mysql://localhost:3306/gigalike_dev_auth?createDatabaseIfNotExist=true
SPRING_DATASOURCE_URL_ORDER=jdbc:mysql://localhost:3306/gigalike_dev_order?createDatabaseIfNotExist=true
SPRING_DATASOURCE_URL_PRODUCT=jdbc:mysql://localhost:3306/gigalike_dev_product?createDatabaseIfNotExist=true

SPRING_DATASOURCE_URL=jdbc:mysql://localhost:3306/gigalike_dev_default?createDatabaseIfNotExist=true

# JPA Settings
JPA_DDL_AUTO=update
JPA_SHOW_SQL=false

# MongoDB (for payment, platform services)
MONGO_USERNAME=admin
MONGO_PASSWORD=password
SPRING_DATA_MONGODB_URI=mongodb://admin:password@localhost:27017/gigalike_dev_default?authSource=admin
SPRING_DATA_MONGODB_URI_MARKETING=mongodb://admin:password@localhost:27017/gigalike_dev_marketing?authSource=admin
SPRING_DATA_MONGODB_URI_PAYMENT=mongodb://admin:password@localhost:27017/gigalike_dev_payment?authSource=admin
SPRING_DATA_MONGODB_URI_PLATFORM=mongodb://admin:password@localhost:27017/gigalike_dev_platform?authSource=admin

# Redis (for platform service)
REDIS_HOST=redis
REDIS_PORT=6379

# MinIO (Object Storage)
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=password123
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY=password123
MINIO_BUCKET_NAME=gigalike-storage
MINIO_BROWSER_REDIRECT_URL=http://localhost:9001

# =================
# MESSAGING (RABBITMQ)
# =================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest

# =================
# AUTHENTICATION & SECURITY
# =================
JWT_SECRET=mySecretKey-change-this-in-production-32-chars-minimum
JWT_ACCESS_TOKEN_EXPIRATION=3600000
JWT_REFRESH_TOKEN_EXPIRATION=604800000

# Google OAuth2
GOOGLE_CLIENT_ID=your-google-client-id.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-oauth2-secret
GOOGLE_REDIRECT_URI=http://localhost:8081/login/oauth2/code/google
OAUTH2_SCOPE=openid,profile,email

# =================
# PAYMENT GATEWAYS
# =================
# Stripe
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# PayPal
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_MODE=sandbox

# Vietnamese Payment Methods
PAYMENT_METHOD_MB_BANK=your-mb-bank-config
PAYMENT_METHOD_VIETTIN=your-viettin-bank-config

# =================
# EMAIL CONFIGURATION
# =================
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
NOTIFICATION_EMAIL_FROM=noreply@gigalike.com

# =================
# NOTIFICATION SERVICES
# =================
# Telegram Bot
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_GROUP_ID=-4923394016
ID_GROUP=-4923394016

# OTP Settings
OTP_EXPIRE_TIME=300000
OTP_LENGTH=6

# =================
# SERVICE URLS (Docker internal)
# =================
AUTH_SERVICE_URL=http://localhost:8081
PRODUCT_SERVICE_URL=http://localhost:8082
ORDER_SERVICE_URL=http://localhost:8083
PAYMENT_SERVICE_URL=http://localhost:8084
PLATFORM_SERVICE_URL=http://localhost:8086
MARKETING_SERVICE_URL=http://localhost:8085
SPRING_CLOUD_CONFIG_URI=http://localhost:8888

# =================
# CORS & FRONTEND
# =================
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5000

# =================
# DOCKER PORTS (Optional - for port mapping)
# =================
EUREKA_SERVER_PORT=8761
CONFIG_SERVER_PORT=8888
MARKETING_SERVER_PORT=8085
API_GATEWAY_PORT=8080
AUTH_SERVICE_PORT=8081
PRODUCT_SERVICE_PORT=8082
ORDER_SERVICE_PORT=8083
PAYMENT_SERVICE_PORT=8084
PLATFORM_SERVICE_PORT=8086
MYSQL_PORT=3306
MONGO_PORT=27017
RABBITMQ_MANAGEMENT_PORT=15672
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

# =================
# MONITORING STACK
# =================
# ELK Stack
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_JAVA_OPTS=-Xms512m -Xmx512m
LOGSTASH_PORT=5000
LOGSTASH_JAVA_OPTS=-Xms256m -Xmx256m
KIBANA_PORT=5601
KIBANA_ENCRYPTION_KEY=min-32-byte-long-strong-encryption-key-for-kibana

# Prometheus Stack
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=200h
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin
ALERTMANAGER_PORT=9093

# System Monitoring
NODE_EXPORTER_PORT=9100
CADVISOR_PORT=8080
